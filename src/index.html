<html>

<head>
  <link rel="stylesheet" type="text/css" href="main.css" />

  <script src="vendor/jquery-3.3.1.slim.min.js"></script>
  <script src="vendor/vue.js"></script>
  <script src="vendor/jquery.modal.min.js"></script>
  <link rel="stylesheet" href="vendor/jquery.modal.min.css" />


  <script src="doruk.js"></script>
  <script src="main.js" type="module"></script>

</head>

<body>
  <div id="app">
    <div style="width: 100%; display: block;">

      <div class="container">
        <p>
          <span style="font-size: 18px;">Lines-Of-Code Written: {{ LoC.toFixed(2) }}</span>
          <span>Time: {{ printTime }}</span>
          <span>Money: {{ money }} $</span>
        </p>

        <p>
          <button v-on:click="writeCode">
            Write Code(1 Click {{ locPerTick.toFixed(2) }} Line Of Code)
          </button>
        </p>

        <p>

          <a v-if="achievements.at_100.done" href="#ex1" rel="modal:open"><button>Browse online store</button></a>

          <a v-if="achievements.at_500.done" href="#ex3" rel="modal:open"><button>Browse careers</button></a>

          <a v-if="achievements.at_600.done" href="#ex5" rel="modal:open"><button>GotCode.com</button></a>

          <a v-if="achievements.at_400.done" href="#ex4" rel="modal:open"><button>Your kindle</button></a>

          <button v-on:click="subscribe" v-if="!achievements.boughtFreelanceSubscr.done && achievements.at_200.done">
            Subscribe for {{ boardSubscriptionPrice }}$ to Jobs board
          </button>

          <button onclick="$('#freelanceJobs').toggle()" v-if="achievements.boughtFreelanceSubscr.done">Toggle Freelance
            Window</button>

        </p>
      </div>

      <div class=" container3borderless container" v-if="career != null">
        <table>
          <tbody v-if="careerAsignments.length > 0">
            <tr v-for="item in careerAsignments">
              <td>{{ item.title }}</td>
              <td>{{ item.LoC.toFixed(2) }}</td>
              <td>{{ item.deadline }}</td>
            </tr>
          </tbody>
          <tbody v-if="careerAsignments.length == 0">
            <tr>
              <td colspan="3">no active jobs</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="container container3borderless" id="freelanceJobs" v-if="achievements.boughtFreelanceSubscr.done">
        <h2>Active Jobs</h2>
        <table class="freelanceJobs">
          <thead>
            <tr>
              <th>
                Job
              </th>
              <th>
                LoC to finish
              </th>
              <th>
                Deadline(Hours)
              </th>
              <th>
                Pay
              </th>
            </tr>
          </thead>
          <tbody v-if="activeFreelance.length >=1">
            <tr v-for="item in activeFreelance">
              <td>{{ item.title }}</td>
              <td>{{ item.LoC.toFixed(2) }}</td>
              <td>{{ item.deadline }}</td>
              <td>{{ item.price }}</td>
            </tr>
          </tbody>
          <tbody v-if="activeFreelance.length ==0">
            <tr>
              <td colspan="3">no active jobs</td>
            </tr>
          </tbody>
        </table>

        <br>

        <h2>Available Jobs</h2>

        <table class="freelanceBoard">
          <thead>
            <tr>
              <th>
                Job
              </th>
              <th>
                LoC to finish
              </th>
              <th>
                Price
              </th>
            </tr>
          </thead>
          <tbody v-if="freelance.length >= 1">
            <tr v-for="item in freelance">
              <td>{{ item.title }}</td>
              <td>{{ item.LoC.toFixed(2) }}</td>
              <td>{{ item.price }}</td>
              <td>
                <button v-bind:id="item.id" v-on:click="getJob">
                  Take Job
                </button>
              </td>
            </tr>
          </tbody>
          <tbody v-if="freelance.length ==0">
            <tr>
              <td colspan="3">no active jobs</td>
            </tr>
          </tbody>
        </table>

      </div>

        <div class=" container container3borderless messages" id="messages"></div>

    </div>

    <div id="ex1" class="modal">
      <p v-for="item in shop">
        <button v-if="!item.bought" v-bind:id="item.id" v-on:click="buy">
          {{ item.name }}({{ item.price }} $)
          <span :if="item.description !=undefined">{{item.description}}</span>
        </button>
      </p>
    </div>

    <div id="ex2" class="modal">

    </div>

    <div id="ex3" class="modal">
      <h3>Under construction</h3>
      <p v-for="item in availableCareers">
        <button v-bind:id="item.id" v-on:click="interview">
          {{ item.title }}
        </button>
      </p>
    </div>

    <div id="ex4" class="modal">
      <h4>Your read list. Click to read</h4>
      <p v-for="item in books.unread">
        <button v-bind:id="item.id" v-on:click="read">{{ item.name }} (Pages:
          {{item.readPages}}/{{item.pages}})</button>
      </p>
      <p v-if="books.unread.length == 0">(none)</p>

      <h4>Books you have read</h4>
      <p v-for="item in books.read">
        <button disabled v-bind:id="item.id" v-on:click="read">
          {{ item.name }}
        </button>
      </p>
      <p v-if="books.read.length == 0">(none)</p>
    </div>

    <div id="ex5" class="modal">
      <h4>GotHub.com under construction...</h4>
    </div>
  </div>
</body>

</html>